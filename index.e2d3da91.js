!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(n){if(n in t)return t[n].exports;if(n in a){var e=a[n];delete a[n];var r={id:n,exports:{}};return t[n]=r,e.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,e){a[n]=e},e.parcelRequired7c6=r),r("ajzNc"),r("diaKp"),r("1h2Gi"),r("dsadE");var i,c,o,s=r("bpxeT"),p=r("dDDEV"),u=r("2TvXO"),l=r("6JpON"),d=r("ajzNc"),f=r("g4hZ6"),_="".concat(d.BASE_URL,"/movie/upcoming"),g=document.querySelector(".container__upcoming");function m(){return v.apply(this,arguments)}function v(){return(v=n(s)(n(u).mark((function e(){return n(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(_,"?api_key=").concat(d.API_KEY,"&language=en-US&page=1")).then((function(e){if(!e.ok)throw n(l).Notify.failure("Sorry, there are no upcoming films for today"),new Error(e.status);return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t;c=e.target.dataset.movieid,t=c,(0,f.getMovieFromLibrary)(t)?((0,f.removeMovieFromLibrary)(t),o.textContent="Remind me"):((0,f.addMovieToLibrary)(t),o.textContent="Remove from Library");var a=i.title;"Remove from Library"===o.textContent?n(l).Notify.success('"'.concat(a,'" added to the library')):n(l).Notify.success('"'.concat(a,'" removed from the library'))}function b(n,e){(0,f.getMovieFromLibrary)(n)?e.textContent="Remove from Library":e.textContent="Remind me"}function y(){return(y=n(s)(n(u).mark((function e(){var t,a,r,s;return n(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:if(t=e.sent,!((a=t.results).length>=1)){e.next=17;break}return i=a[Math.floor(Math.random()*a.length)],e.next=9,k(i.genre_ids);case 9:return r=e.sent,e.next=12,x(n(p)({},i,{genreNames:r}));case 12:s=e.sent,g.insertAdjacentHTML("beforeend",s),o=document.querySelector(".upcoming__remindme--btn"),b(c,o),o.addEventListener("click",h);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function x(n){return w.apply(this,arguments)}function w(){return(w=n(s)(n(u).mark((function e(t){var a,r,i,c,o,s,p,l,d,f,_;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.id,r=t.poster_path,i=t.backdrop_path,c=t.title,o=t.overview,s=t.popularity,p=t.vote_average,l=t.vote_count,d=t.release_date,f=t.genre_ids,n.next=3,k(f);case 3:return _=n.sent,n.abrupt("return",'\n    \n <div class="upcoming__card">\n <div class="upcoming__thumb">\n      \n      <picture class=\'.upcoming__poster\'>\n      <source srcset="https://image.tmdb.org/t/p/original/'.concat(i,'" media="(min-width: 1200px)" class=\'upcoming__poster-desktop\' />\n      <source srcset="https://image.tmdb.org/t/p/original/').concat(i,'" media="(min-width: 768px)" class=\'upcoming__poster-tablet\' />\n      <source srcset="https://image.tmdb.org/t/p/original/').concat(r,'" media="(min-width: 320px)" />\n      <img src="https://image.tmdb.org/t/p/original/').concat(r,'" alt="Movie Poster" style=\'width: 805px\'/>\n    </picture>\n      </div>\n      </div>\n\n<div class="upcoming__info">\n            <h2 class="upcoming__info--title">').concat(c,'</h2>\n            <div class="upcoming__movie">\n                <div class="upcoming__info--left">\n                    <div class="upcoming__info--release">\n                        <p class="upcoming__text"> <span class ="upcoming__light--black">Release date</span> <span class="upcoming__info--release--date">').concat(d,'</span></p>\n                    </div>\n                    <div class="upcoming__info--vote">\n                        <p class="upcoming__text"><span class ="upcoming__light--black">Vote/Votes</span>\n                        <div class="upcoming__info--votes"><span class="upcoming__info--white">').concat(p,'</span> <span\n                                class="slash">/</span>\n                            <span class="upcoming__info--white">\n                               ').concat(l,'</span>\n                        </div>\n                        </p>\n                    </div>\n                </div>\n                <div class="upcoming__info--right">\n                    <div class="upcoming__info--pop">\n                        <p class="upcoming__text"> <span class ="upcoming__light--black">Popularity</span> <span class="upcoming__info--pop--range">').concat(s,'</span> </p>\n                    </div>\n                    <div class="upcoming__info--genre">\n                        <p class="upcoming__text"><span class ="upcoming__light--black">Genre</span> <span class="upcoming__info--genre--kind">').concat(_,'</span> </p>\n                    </div>\n                </div>\n            </div>\n            <h2 class="upcoming__info--about">ABOUT</h2>\n\n            <p class="upcoming__info--description">').concat(o,'</p>\n            <button class="upcoming__remindme--btn" data-movieid=').concat(a,'  type="button">Remind me</button>\n        </div>\n\n   \n     '));case 5:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function k(n){return L.apply(this,arguments)}function L(){return(L=n(s)(n(u).mark((function e(t){var a,r,i;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"249f222afb1002186f4d88b2b5418b55","https://api.themoviedb.org/3/genre/movie/list",n.next=4,fetch("".concat("https://api.themoviedb.org/3/genre/movie/list","?api_key=").concat("249f222afb1002186f4d88b2b5418b55","&language=en-US"));case 4:return a=n.sent,n.next=7,a.json();case 7:return r=n.sent,i=t.map((function(n){return r.genres.find((function(e){return e.id===n})).name})),n.abrupt("return",i.join(", "));case 10:case"end":return n.stop()}}),e)})))).apply(this,arguments)}!function(){y.apply(this,arguments)}(),r("4Nugj"),r("lF0Zg"),r("g4hZ6"),r("i8Q71"),r("475fx");s=r("bpxeT"),u=r("2TvXO");var E=r("dIxxU"),M=(d=r("ajzNc"),document.querySelector(".gallery-weekly__list"));function T(){return j.apply(this,arguments)}function j(){return(j=n(s)(n(u).mark((function e(){var t;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.default.get("".concat(d.BASE_URL,"/genre/movie/list?api_key=").concat(d.API_KEY));case 2:return t=n.sent.data,n.abrupt("return",t);case 4:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=n(s)(n(u).mark((function e(){var t;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T().then((function(n){return n.genres}));case 2:return t=n.sent,n.abrupt("return",{genres:t});case 4:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function N(n){(function(){return R.apply(this,arguments)})().then((function(e){var t=e.genres;if(n){n.forEach((function(n){var e=n.genre_ids,a=n.release_date;t.forEach((function(t){var r=t.name,i=t.id;e.includes(i)&&(e.length>2&&e.splice(2,e.length-1),e.splice(e.indexOf(i),1,r)),n.genre_names=e.join(", "),n.release_date&&(n.release_date=a.slice(0,4))}))}));var a=function(n){return n.slice(0,3).map((function(n){var e=n.original_title,t=n.release_date,a=n.genre_ids,r=n.poster_path,i=n.vote_average,c=n.id,o="";o=r?"".concat(d.IMG_BASE_URL).concat(d.IMG_W400).concat(r):"https://i.ibb.co/C0LFwTh/OIF.jpg";for(var s="",p=1;p<=5;p++){var u="fa-star-o";2*p<i?u="fa-star":2*p-1<i&&(u="fa-star-half-o"),s+='<span class="fa star '.concat(u,'"> </span>')}return" <li class='gallery-weekly__list-elem hover-cursor' data-id='".concat(c,"'>           \n        <img class='gallery-weekly__image' src=\"").concat(o,'" alt="').concat(e,'" loading="lazy" data-id=\'').concat(c,"'>\n       <div class='gallery-weekly__all-info'> \n        <div class=\"gallery-weekly__info\">\n            <h3 class= 'gallery-weekly__title'>").concat(e,"</h3>\n            <div class='cards-list_second_line'>\n              <div class='cards-list__text'>\n                <p>").concat(a," | ").concat(t,"</p>\n              </div>\n            </div>\n        </div>\n        <div class='star-rate'>\n                ").concat(s,"\n        </div>\n      </div>\n    </li>")})).join("")}(n);M&&(M.innerHTML=a)}}))}E.default.get("https://api.themoviedb.org/3/trending/movie/week?api_key=249f222afb1002186f4d88b2b5418b55").then((function(n){return n.data})).then((function(n){return N(n.results)}));r("8IkT5"),r("ijwS8")}();
//# sourceMappingURL=index.e2d3da91.js.map
