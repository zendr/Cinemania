function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},t={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in t){var n=t[e];delete t[e];var a={id:e,exports:{}};return i[e]=a,n.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){t[e]=n},n.parcelRequired7c6=a),a("6RiD3"),a("kyRuT"),a("7me8F"),a("1VOaQ");var s=a("7Y9D8"),o=a("6RiD3"),r=a("Iwkks");const l=`${o.BASE_URL}/movie/upcoming`,c=document.querySelector(".container__upcoming");let p,d,_;function g(n){var i;d=n.target.dataset.movieid,i=d,(0,r.getMovieFromLibrary)(i)?((0,r.removeMovieFromLibrary)(i),_.textContent="Remind me"):((0,r.addMovieToLibrary)(i),_.textContent="Remove from Library");let t=p.title;"Remove from Library"===_.textContent?e(s).Notify.success(`"${t}" added to the library`):e(s).Notify.success(`"${t}" remove to the library`)}async function u(e){const n=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=249f222afb1002186f4d88b2b5418b55&language=en-US"),i=await n.json();return e.map((e=>i.genres.find((n=>n.id===e)).name)).join(", ")}!async function(){try{const t=(await async function(){return fetch(`${l}?api_key=${o.API_KEY}&language=en-US&page=1`).then((n=>{if(!n.ok)throw e(s).Notify.failure("Sorry, there are no upcoming films for today"),new Error(n.status);return n.json()}))}()).results;if(t.length>=1){p=t[Math.floor(Math.random()*t.length)];const e=await u(p.genre_ids),a=await async function({id:e,poster_path:n,backdrop_path:i,title:t,overview:a,popularity:s,vote_average:o,vote_count:r,release_date:l,genre_ids:c}){const p=await u(c);return`\n    \n <div class="upcoming__card">\n <div class="upcoming__thumb">\n      \n      <picture class='.upcoming__poster'>\n      <source srcset="https://image.tmdb.org/t/p/original/${i}" media="(min-width: 1200px)" class='upcoming__poster-desktop' />\n      <source srcset="https://image.tmdb.org/t/p/original/${i}" media="(min-width: 768px)" class='upcoming__poster-tablet' />\n      <source srcset="https://image.tmdb.org/t/p/original/${n}" media="(min-width: 320px)" />\n      <img src="https://image.tmdb.org/t/p/original/${n}" alt="Movie Poster" style='width: 805px'/>\n    </picture>\n      </div>\n      </div>\n\n<div class="upcoming__info">\n            <h2 class="upcoming__info--title">${t}</h2>\n            <div class="upcoming__movie">\n                <div class="upcoming__info--left">\n                    <div class="upcoming__info--release">\n                        <p class="upcoming__text"> <span class ="upcoming__light--black">Release date</span> <span class="upcoming__info--release--date">${l}</span></p>\n                    </div>\n                    <div class="upcoming__info--vote">\n                        <p class="upcoming__text"><span class ="upcoming__light--black">Vote/Votes</span>\n                        <div class="upcoming__info--votes"><span class="upcoming__info--white">${o}</span> <span\n                                class="slash">/</span>\n                            <span class="upcoming__info--white">\n                               ${r}</span>\n                        </div>\n                        </p>\n                    </div>\n                </div>\n                <div class="upcoming__info--right">\n                    <div class="upcoming__info--pop">\n                        <p class="upcoming__text"> <span class ="upcoming__light--black">Popularity</span> <span class="upcoming__info--pop--range">${s}</span> </p>\n                    </div>\n                    <div class="upcoming__info--genre">\n                        <p class="upcoming__text"><span class ="upcoming__light--black">Genre</span> <span class="upcoming__info--genre--kind">${p}</span> </p>\n                    </div>\n                </div>\n            </div>\n            <h2 class="upcoming__info--about">ABOUT</h2>\n\n            <p class="upcoming__info--description">${a}</p>\n            <button class="upcoming__remindme--btn" data-movieid=${e}  type="button">Remind me</button>\n        </div>\n\n   \n     `}({...p,genreNames:e});c.insertAdjacentHTML("beforeend",a),_=document.querySelector(".upcoming__remindme--btn"),n=d,i=_,(0,r.getMovieFromLibrary)(n)?i.textContent="Remove from Library":i.textContent="Remind me",_.addEventListener("click",g)}}catch(e){console.log(e)}var n,i}(),a("krGWQ"),a("1dkLo"),a("Iwkks"),a("bUb57"),a("6gB84");var m=a("2shzp");o=a("6RiD3");const f=document.querySelector(".gallery-weekly__list");async function v(){return{genres:await async function(){const{data:e}=await m.default.get(`${o.BASE_URL}/genre/movie/list?api_key=${o.API_KEY}`);return e}().then((({genres:e})=>e))}}function h(e){v().then((({genres:n})=>{if(e){e.forEach((e=>{const{genre_ids:i,release_date:t}=e;n.forEach((({name:n,id:a})=>{i.includes(a)&&(i.length>2&&i.splice(2,i.length-1),i.splice(i.indexOf(a),1,n)),e.genre_names=i.join(", "),e.release_date&&(e.release_date=t.slice(0,4))}))}));const i=function(e){return e.slice(0,3).map((({original_title:e,release_date:n,genre_ids:i,poster_path:t,vote_average:a,id:s})=>{let r="";r=t?`${o.IMG_BASE_URL}${o.IMG_W400}${t}`:"https://i.ibb.co/C0LFwTh/OIF.jpg";let l="";for(let e=1;e<=5;e++){let n="fa-star-o";2*e<a?n="fa-star":2*e-1<a&&(n="fa-star-half-o"),l+=`<span class="fa star ${n}"> </span>`}return` <li class='gallery-weekly__list-elem hover-cursor' data-id='${s}'>           \n        <img class='gallery-weekly__image' src="${r}" alt="${e}" loading="lazy" data-id='${s}'>\n       <div class='gallery-weekly__all-info'> \n        <div class="gallery-weekly__info">\n            <h3 class= 'gallery-weekly__title'>${e}</h3>\n            <div class='cards-list_second_line'>\n              <div class='cards-list__text'>\n                <p>${i} | ${n}</p>\n              </div>\n            </div>\n        </div>\n        <div class='star-rate'>\n                ${l}\n        </div>\n      </div>\n    </li>`})).join("")}(e);f&&(f.innerHTML=i)}}))}m.default.get("https://api.themoviedb.org/3/trending/movie/week?api_key=249f222afb1002186f4d88b2b5418b55").then((e=>e.data)).then((({results:e})=>h(e)));a("5zKKr"),a("I2Abx");
//# sourceMappingURL=index.bbd27b31.js.map
